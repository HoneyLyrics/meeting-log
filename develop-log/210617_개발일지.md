# 210617 개발 일지
## 1. Back-end 개발
- training (수현, 채원)

  - pytorch기반 koBert 사용 및 모델링 예정

- ImageURL 크롤링 코드 최적화(채원)

  - 어제 작성한 기존의 코드는 songId를 가지고 melon 사이트의 곡 디테일 페이지에서 imageUrl을 가져오는 방식

  - 불필요한 라이브러리 Import 방지 및 요청 횟수를 줄이고, 기존의 곡 정보를 가져오는 월간 인기차트에서 곡 정보 가져올 때 imageUrl도 함께 가져오기 위함. parsing_info()함수에서 코드가 많이 줆.

  - 다만 이미지는 화질이 좀 떨어짐..

  - 기존 이미지 : <https://cdnimg.melon.co.kr/cm2/album/images/105/54/246/10554246_20210325161233_500.jpg?304eb9ed9c07a16ec6d6e000dc0e7d91/melon/resize/282/quality/80/optimize>

  - 개선된 코드 이미지 : <https://cdnimg.melon.co.kr/cm2/album/images/105/54/246/10554246_20210325161233_500.jpg/melon/resize/120/quality/80/optimize>

  - imageUrl을 얻기 위해 추가한 코드는 다음과 같다.

    ```python
    # getList(time) 함수에서 추가된 부분
    data[rank] = {
                    "imgUrl": tag.find("a", {"class": "image_typeAll"}).find('img')['src']
                }
    # parsing_info() 함수에서 추가된 부분
    def parsing_info():
        data = []
        for _, song_info in getList("MONTH").items():
            data.append(
                {
                "songId":song_info["songId"],
                "imgUrl": song_info["imgUrl"],		# 이 부분 추가
                }
            )
        return data
    ```



----

## 2. Front-end 개발